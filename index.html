<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <meta name="theme-color" content="#10d07a" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <link rel="manifest" href="manifest.json" />
    <link rel="apple-touch-icon" href="assets/apple-touch-icon.png" />
    <link rel="stylesheet" href="styles.css" />
    <title>HIIT 训练</title>
  </head>
  <body>
    <div id="app" class="app">
      <header class="topbar"></header>

      <main>
        <section id="view-home" class="view is-active">
          <div class="hero">
            <div class="hero-time title-only">HIIT训练</div>
          </div>
          <div class="play-dock">
            <button id="btnStart" class="play-btn" aria-label="开始">
              <span class="play-icon"></span>
            </button>
          </div>
          <div class="panel">
            <button class="row" id="rowLoad">
              <div class="row-left">
                <span class="row-icon">📅</span>
                <span>加载以前的锻炼</span>
              </div>
              <div class="row-right">›</div>
            </button>

            <button class="row row-work" id="rowWork">
              <div class="row-left">
                <span class="row-icon">▶</span>
                <span>工作</span>
              </div>
              <div class="row-right" id="valWork">00:45</div>
            </button>

            <button class="row row-rest" id="rowRest">
              <div class="row-left">
                <span class="row-icon">⏸</span>
                <span>休息</span>
              </div>
              <div class="row-right" id="valRest">00:15</div>
            </button>

            <button class="row" id="rowExercises">
              <div class="row-left">
                <span class="row-icon">⚡</span>
                <span>锻炼</span>
              </div>
              <div class="row-right" id="valExercises">5</div>
            </button>

            <button class="row row-rounds" id="rowRounds">
              <div class="row-left">
                <span class="row-icon">🔁</span>
                <span>回合</span>
              </div>
              <div class="row-right" id="valRounds">2X</div>
            </button>

          <button class="row row-roundrest" id="rowRoundRest">
            <div class="row-left">
              <span class="row-icon">🕒</span>
              <span>重置回合</span>
            </div>
            <div class="row-right" id="valRoundRest">00:00</div>
          </button>
          <button class="row" id="rowCheckins">
            <div class="row-left">
              <span class="row-icon">✅</span>
              <span>查看打卡情况</span>
            </div>
            <div class="row-right">›</div>
          </button>
        </div>
      </section>

        <section id="view-list" class="view">
          <div class="list-header">
            <div class="list-title">锻炼</div>
            <div class="list-count" id="exerciseCount">5</div>
          </div>
          <div class="list" id="exerciseList"></div>
          <div class="list-footer">
            <button class="add-btn" id="btnAddExercise">+</button>
            <button class="primary-btn" id="btnListDone">完成</button>
          </div>
        </section>

        <section id="view-templates" class="view">
          <div class="list-header">
            <div class="list-title">以前的锻炼</div>
            <div class="list-count" id="templateCount">0</div>
          </div>
          <div class="template-actions">
            <button class="ghost-btn" id="btnSaveTemplate">
              保存当前为模板
            </button>
          </div>
          <div class="list" id="templateList"></div>
          <div class="list-footer">
            <button class="primary-btn" id="btnTemplatesDone">完成</button>
          </div>
        </section>

        <section id="view-run" class="view">
          <div class="run-top">
            <div class="run-title" id="runStageTitle">工作</div>
            <div class="run-sub" id="runRoundInfo">第1轮 · 第1个动作</div>
            <div class="run-dots">
              <div class="dot-row">
                <span>锻炼</span>
                <div class="dots" id="exerciseDots"></div>
              </div>
              <div class="dot-row">
                <span>回合</span>
                <div class="dots" id="roundDots"></div>
              </div>
            </div>
          </div>

          <div class="ring">
            <svg viewBox="0 0 220 220" class="ring-svg">
              <circle class="ring-bg" cx="110" cy="110" r="92"></circle>
              <circle
                class="ring-fg"
                cx="110"
                cy="110"
                r="92"
                id="ringProgress"
              ></circle>
            </svg>
            <div class="ring-content">
              <div class="ring-label" id="ringLabel">工作</div>
              <div class="ring-time" id="ringTime">00:45</div>
            </div>
          </div>

          <div class="run-next" id="runNext">练习 1</div>
          <div class="run-finish" id="runFinish">
            <button class="pill-btn" id="btnFinishHome">返回主界面</button>
            <div class="streak">
              <div class="streak-title">
                本月完成次数：<span id="monthCount">0</span>
              </div>
              <div class="calendar-wrap">
                <div class="calendar-weekdays" id="finishWeekdays"></div>
                <div class="calendar" id="calendarGrid"></div>
              </div>
            </div>
          </div>

          <div class="run-controls">
            <button class="icon-btn" id="btnSound" aria-label="声音">🔈</button>
            <button class="big-btn" id="btnPause" aria-label="暂停">
              <span class="pause-icon"></span>
            </button>
            <button class="icon-btn" id="btnPrev" aria-label="上一项">⟲</button>
            <button class="icon-btn" id="btnNext" aria-label="下一项">⟳</button>
          </div>
        </section>

        <section id="view-checkins" class="view">
          <div class="list-header">
            <div class="list-title">打卡情况</div>
          </div>
          <div class="checkin-controls">
            <div class="segmented">
              <button class="seg-btn is-active" data-mode="month" id="modeMonth">
                本月
              </button>
              <button class="seg-btn" data-mode="year" id="modeYear">本年</button>
            </div>
            <div class="checkin-meta">
              <div class="year-label" id="checkinYearLabel">2026</div>
              <select id="checkinMonthSelect" class="month-select"></select>
            </div>
          </div>
          <div class="streak">
            <div class="streak-title" id="checkinTitle">本月完成次数：0</div>
            <div class="calendar-wrap" id="checkinMonthWrap">
              <div class="calendar-weekdays" id="checkinWeekdays"></div>
              <div class="calendar" id="checkinCalendar"></div>
            </div>
            <div class="year-wrap" id="checkinYearWrap">
              <div class="year-months" id="checkinYearMonths"></div>
              <div class="calendar" id="checkinYearCalendar"></div>
            </div>
          </div>
          <div class="checkin-log">
            <div class="log-title">打卡记录</div>
            <div class="log-total" id="logTotal">总时间：00:00</div>
            <div class="log-list" id="logList"></div>
          </div>
          <div class="list-footer">
            <button class="primary-btn" id="btnCheckinsDone">完成</button>
          </div>
        </section>
      </main>
    </div>

    <div id="modal" class="modal">
      <div class="modal-card">
        <div class="modal-title" id="modalTitle">设置</div>
        <input
          id="modalInput"
          class="modal-input"
          type="text"
          inputmode="numeric"
        />
        <div class="modal-actions">
          <button class="ghost-btn" id="modalCancel">取消</button>
          <button class="pill-btn" id="modalOk">确定</button>
        </div>
        <div class="modal-hint" id="modalHint"></div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
